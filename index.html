<!-- See pug/index.pug.--><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Web-based mobile-friendly metronome with song charting"><link rel="icon" type="image/png" href="static/favicon.png"><title>Mtrnm</title><link rel="stylesheet" type="text/css" href="src/bootstrap/bootstrap.min.css"><script defer src="src/bootstrap/jquery-3.5.0.min.js"></script><script defer src="src/bootstrap/bootstrap.min.js"></script><link rel="stylesheet" type="text/css" href="src/fontawesome/css/regular.min.css"><link rel="stylesheet" type="text/css" href="src/fontawesome/css/fontawesome.min.css"><link rel="stylesheet" type="text/css" href="src/css/app.css"><script defer src="src/js/vue.js"></script><script defer src="src/js/AudioContextMonkeyPatch.js"></script><script defer src="src/js/mousetrap.min.js"></script><script defer src="src/js/mousetrap-global.min.js"></script><script defer src="dist/bundle.js"></script></head><body><div id="vueApp" v-cloak><div class="container-fluid fixed" id="controls"><div class="row"><div class="col text-center font-weight-light d-flex align-items-center justify-content-center" v-on:click="appShowSettings()"><span>Settings</span></div><div class="col"><h2 class="text-center" v-on:click="metronomeToggle()"><i class="far fa-lg" v-bind:class="{&quot;fa-stop-circle&quot;: metronome.isPlaying, &quot;fa-play-circle&quot;: !metronome.isPlaying}"></i></h2></div><div class="col text-center font-weight-light d-flex align-items-center justify-content-center" v-on:click="songChartToggle()" v-bind:class="{ &quot;text-muted&quot;: !songChart.enabled }"><span>Chart</span></div></div></div><div class="container-fluid fixed" id="settings" v-bind:class="{ &quot;show shadow p-3 mb-5 rounded&quot;: app.settings.visible}"><hr class="invisible"><div class="row"><div class="col text-center d-flex align-items-center justify-content-center"><a class="small" v-on:click="metronomeStop(); appPopOut();">Popout</a></div><div class="col text-center"><h2 class="font-weight-light">Settings</h2></div><div class="col text-center d-flex align-items-center justify-content-center"><h2><button class="close" type="button" aria-label="Close" v-on:click="appHideSettings()"><span aria-hidden="true">&times;</span></button></h2></div></div><hr><hr class="invisible small"><div class="form-row align-items-center"><div class="col-9"><div class="form-check mb-2 custom-control custom-checkbox"><input class="custom-control-input" id="enableCountIn" type="checkbox" v-model="songChart.countIn.enabled"><label class="custom-control-label" for="enableCountIn">&nbsp;Count in measures</label></div></div><div class="col-3"><label class="sr-only" for="countInMeasures">Measures</label><input class="form-control mb-2" id="countInMeasures" :disabled="!songChart.countIn.enabled" type="numeric" inputmode="numeric" aria-describedby="enable count in" min="0" step="1" pattern="[0-9]+" title="count in measures" placeholder="Measures" v-model.number="songChart.countIn.lengthMeasures"></div></div><hr class="invisible small"><div class="form-row align-items-center"><div class="col"><div class="form-check mb-2 custom-control custom-checkbox"><input class="custom-control-input" id="enableSectionChangeVisualCues" type="checkbox" v-model="songChart.visualCues.enabled"><label class="custom-control-label" for="enableSectionChangeVisualCues">&nbsp;Enable visual cues (highlights) before section changes</label></div></div></div><hr class="invisible small"><div class="form-row"><div class="col-9"><label for="yellowLength">Yellow measures</label></div><div class="col-3"><input class="form-control mb-2" id="yellowLength" :disabled="!songChart.visualCues.enabled" type="numeric" inputmode="numeric" aria-describedby="number of yellow measures" min="0" step="1" pattern="[0-9]+" title="yellow measures" placeholder="Measures" v-model.number="songChart.visualCues.yellowLength"></div></div><div class="form-row"><div class="col-9"><label for="redLength">Red measures</label></div><div class="col-3"><input class="form-control mb-2" id="redLength" :disabled="!songChart.visualCues.enabled" type="numeric" inputmode="numeric" aria-describedby="number of red measures" min="0" step="1" pattern="[0-9]+" title="red measures" placeholder="Measures" v-model.number="songChart.visualCues.redLength"></div></div><hr class="invisible small"><div class="form-row align-items-center"><div class="col"><div class="form-check mb-2 custom-control custom-checkbox"><input class="custom-control-input" id="flashRedOnFirstBeat" type="checkbox" v-model="app.settings.flashRedOnFirstBeat"><label class="custom-control-label" for="flashRedOnFirstBeat">&nbsp;Flash red on first beat</label></div></div></div><hr class="invisible small"><div class="form-row align-items-center"><div class="col"><div class="form-check mb-2 custom-control custom-checkbox"><input class="custom-control-input" id="hidePastSections" type="checkbox" v-model="app.settings.hidePastSections"><label class="custom-control-label" for="hidePastSections">&nbsp;Hide past sections</label></div></div></div><hr class="invisible small"><div class="row"><div class="col"><label for="sampleSelect">Sound</label><select class="custom-select" id="sampleSelect" v-model="audio.sampleName" v-on:change="audioMaybeLoadSample()"><option value="BEEP_HIGH" selected>Beep high</option><option value="BEEP_LOW" selected>Beep low</option><option value="HIHAT">Hi-hat</option></select></div></div><hr class="invisible small"><div class="row"><div class="col"><div class="form-group"><label for="gainLevel">Audio volume</label><input class="form-control-range" id="gainLevel" type="range" min="0" max="1.2" step="0.05" v-model.number="audio.gainNode.gain.value" v-on:change="audioUpdatedGainLevel()"></div></div></div><hr><div class="row"><div class="col"><h4 class="font-weight-light">Shortcuts</h4></div></div><div class="row"><div class="col"><table class="table table-sm table-borderless font-weight-light"><tbody><tr><td>space</td><td>Start/stop.</td></tr><tr><td>t / b</td><td>Focus on tempo box or subdivision select box.</td></tr><tr><td>.</td><td>Tap tempo.</td></tr><tr><td>j / k</td><td>Decrease or increase tempo by 1 BPM.</td></tr><tr><td>m / ,</td><td>Decrease or increase tempo by 5 BPM.</td></tr></tbody></table></div></div><hr><div class="row"><div class="col"><span class="small"><a href="https://thenounproject.com/andrea.verzola1/uploads/?i=173952" target="_blank">Metronome icon</a>
by
<a href="https://thenounproject.com/andrea.verzola1/" target="_blank">andrea.verzola1</a>
from the Noun project as favicon. CC license.</span></div></div></div><div class="container-fluid" id="body"><hr class="invisible"><div class="row"><div class="col"><h1 class="text-center font-weight-light"><img id="header-icon" src="static/favicon.png"> Mtrnm</h1></div></div><div class="row"><div class="col"><hr></div><div class="col-auto">Tempo</div><div class="col"><hr></div></div><div class="row"><div class="col input-group input-group-lg"><div class="input-group-prepend"><span class="input-group-text" id="tempo">BPM</span></div><input class="form-control text-center" id="tempoBox" type="number" inputmode="numeric" aria-describedby="tempo" min="0" step="1" pattern="[0-9]+" title="beats per minute" placeholder="beats per minute" v-model="metronome.tempo" v-on:change="metronomeStop()"><select class="custom-select" id="subdivisionBox" v-model="metronome.noteResolution"><option v-bind:value="0" selected>qtr</option><option v-bind:value="1">8th</option><option v-bind:value="2">16th</option></select><div class="input-group-append"><button class="btn btn-outline-secondary" type="button" v-on:click="metronomeTapTempo()">Tap</button></div></div></div><hr class="invisible small"><div class="row"><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoHalve()">รท2</a></div><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoDecrementBy5()">-5</a></div><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoDecrement()">-1</a></div><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoIncrement()">+1</a></div><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoIncrementBy5()">+5</a></div><div class="col-2"><a class="btn btn-default" v-on:click="metronomeTempoDouble()">ร2</a></div></div><hr class="invisible small"><div class="row"><div class="col"><div id="viz-container"><canvas id="viz"></canvas></div></div></div><hr class="invisible small"><div class="container-fluid collapse" id="chart" v-bind:class="{show: songChart.enabled}"><div class="row"><div class="col"><hr></div><div class="col-auto">Song Chart</div><div class="col"><hr></div></div><div class="row"><div class="col-8"><span>{{ songChart.name }}</span>&nbsp; - &nbsp;<span>{{ songChart.artist }}</span></div><div class="col-4 text-right"><span v-if="songChart.countIn.enabled &amp;&amp; metronome.isPlaying &amp;&amp; songChart.countIn.curCountInMeasure &lt;= songChart.countIn.lengthMeasures">count in...</span></div></div><div class="row"><div class="col-8">Measures: &nbsp;<span class="text-monospace">{{ songChart.curRunningMeasures }}</span></div><div class="col-4 text-right"><span class="text-monospace"><span v-bind:class="{ &quot;bg-danger text-white&quot;: metronome.isPlaying &amp;&amp; app.settings.flashRedOnFirstBeat &amp;&amp; songChart.curBeat == 1}"><span>{{ songChart.curMeasure }}</span>.<span>{{ songChart.curBeat }}</span></span><span>&nbsp;</span>/<span>&nbsp;{{ songChart.curSectionLength }}</span></span></div></div><hr class="small"><div class="row" id="songChart"><div class="col"><ul class="list-group list-group-flush" v-for="(section, index) in songChart.sections"><li class="list-group-item" v-bind:class="{&quot;list-group-item-primary&quot;: index == songChart.curSectionIndex &amp;&amp; (!songChart.visualCues.enabled || (songChart.visualCues.enabled &amp;&amp; songChart.curMeasure &lt;= section.length - (songChart.visualCues.redLength + songChart.visualCues.yellowLength))),&quot;list-group-item-warning&quot;: index == songChart.curSectionIndex &amp;&amp; songChart.visualCues.enabled &amp;&amp; songChart.curMeasure &gt; section.length - (songChart.visualCues.yellowLength + songChart.visualCues.redLength) &amp;&amp; songChart.curMeasure &lt;= section.length - songChart.visualCues.redLength,&quot;list-group-item-danger&quot;: index == songChart.curSectionIndex &amp;&amp; songChart.visualCues.enabled &amp;&amp; songChart.curMeasure &gt; section.length - songChart.visualCues.redLength,disabled: metronome.isPlaying &amp;&amp; !app.settings.hidePastSections &amp;&amp; index &lt; songChart.curSectionIndex,hidden: metronome.isPlaying &amp;&amp; app.settings.hidePastSections &amp;&amp; index &lt; songChart.curSectionIndex}" v-on:click="songChartSetStartingFromSection(index)"><div class="section name"><div class="row"><div class="col">{{ index + 1 }}: {{ section.name }}</div><div class="col text-right text-monospace"><span class="text-right" v-if="index == songChart.curSectionIndex">{{ songChart.curMeasure }} /</span><span>&nbsp;{{ section.length }}</span></div></div></div><div class="subsection font-weight-light" v-for="(subsection, subindex) in section.subsections"><div class="row" v-bind:class="{ selected: index == songChart.curSectionIndex &amp;&amp; subindex == songChart.curSubSectionIndex }"><div class="col">{{ subsection.subname }}</div><div class="col text-right text-monospace"><span v-if="index == songChart.curSectionIndex &amp;&amp; subindex == songChart.curSubSectionIndex">{{ songChart.curSubSectionMeasure }} /</span><span>&nbsp;{{ subsection.sublength }}</span></div></div></div></li></ul></div></div><hr><div class="row"><div class="col text-center"><a v-on:click="songChartAppendSection()">+ Add section</a></div></div></div><hr class="invisible"><div class="row fixed invisible"><div class="col"><h2 class="text-center"><i class="far fa-lg" v-bind:class="{&quot;fa-stop-circle&quot;: metronome.isPlaying, &quot;fa-play-circle&quot;: !metronome.isPlaying}"></i></h2></div></div></div></div></body></html>